{"version":3,"sources":["webpack:///./src/views/operation/commerce_list.vue?8aaa","webpack:///./src/views/operation/commerce_list.vue","webpack:///src/views/operation/commerce_list.vue"],"names":["operation_commerce_list","render","_h","this","$createElement","_c","_self","staticClass","attrs","border","columns","data","list","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","commerce_list","__webpack_exports__","_this","dateTime","startTime","endTime","title","align","key","h","params","row","showSuperior","_str","superior","props","size","value","parseInt","superiorId","on","on-change","superiorList","map","type","accountId","nickname","status","reamrk","confirm","placement","on-ok","disable","account_id","restartPwd","updateSuperior","on-cancel","created","getList","methods","jumpLink","id","$router","push","path","query","_o","st","se","_this2","dateArr","s","e","str","$Message","error","tempb","Date","getFullYear","getMonth","getDate","tempe","global","url","survey_commerce_list","educe_commerce_list","$http","get","btime","etime","then","result","window","open","baseUrl","indexOf","success","_this3","operation_commerce_update_status","affectedRows","setTimeout","_this4","post","commerce_restart","aid","superior_id","_this5","operation_update_commerce_superior_id","cleanBox","educe","alert"],"mappings":"wHAGeA,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,SAAcG,OAAOC,OAAA,GAAAC,QAAlIP,KAAkIO,QAAAC,KAAlIR,KAAkIS,SAAmD,IAE9LC,oBCCjB,IASAC,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACEC,EAAA,EACAnB,GATF,EAWAc,EAPA,KAEA,MAUeM,EAAA,QAAAH,EAAiB,6ECIhCG,EAAA,GACAT,KADA,WACA,IAAAU,EAAAlB,KACA,OACAmB,SAAA,GACAC,UAAA,GACAC,QAAA,GACAd,UAEAe,MAAA,OACAC,MAAA,SACAC,IAAA,WAGAF,MAAA,KACAC,MAAA,SACAC,IAAA,SAGAF,MAAA,KACAE,IAAA,WACAD,MAAA,WAGAD,MAAA,QACAE,IAAA,gBACAD,MAAA,WAGAD,MAAA,OACAE,IAAA,YACAD,MAAA,WAGAD,MAAA,OACAE,IAAA,cACAD,MAAA,WAGAD,MAAA,KACAC,MAAA,SACAzB,OAAA,SAAA2B,EAAAC,GACA,MAAAA,EAAAC,IAAAC,aAAA,CACA,IAAAC,EAAA,GAMA,OAJAA,EADA,SAAAH,EAAAC,IAAAG,SACA,KAEAJ,EAAAC,IAAAG,SAEAL,EAAA,MAAAI,GAEA,OAAAJ,EAAA,UACAM,OACAC,KAAA,QACAC,MAAAC,SAAAR,EAAAC,IAAAQ,aAEAC,IACAC,YAAA,SAAAJ,GACAP,EAAAC,IAAAQ,WAAAF,KAIAf,EAAAoB,aAAAC,IAAA,SAAAC,GACA,OAAAf,EAAA,UACAM,OAAAE,MAAAO,EAAAC,YACAD,EAAAE,gBAOApB,MAAA,KACAC,MAAA,SACAzB,OAHA,SAGA2B,EAAAC,GAOA,OAAAD,EAAA,MALA,KAAAC,EAAAC,IAAAgB,OACA,KAEA,SAMArB,MAAA,OACAE,IAAA,eACAD,MAAA,WAGAD,MAAA,KACAC,MAAA,SACAzB,OAAA,SAAA2B,EAAAC,GACA,IAAAkB,EAAA,GAAAlB,EAAAC,IAAAgB,OAAA,cAEA,UAAAjB,EAAAC,IAAAC,aACAH,EAAA,OACAA,EAAA,UACAM,OACAC,KAAA,WAIAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,YACAwB,UAAA,QAEAV,IACAW,QAAA,WACA7B,EAAA8B,QAAAtB,EAAAC,IAAAsB,WAAAvB,EAAAC,IAAAgB,WAIAC,KAGAnB,EAAA,UACAM,OACAC,KAAA,WAGAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,UACAwB,UAAA,QAEAV,IACAW,QAAA,WACA7B,EAAAgC,WAAAxB,EAAAC,IAAAsB,eAIA,YAGAxB,EAAA,UACAM,OACAC,KAAA,WAGAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,WACAwB,UAAA,QAEAV,IACAW,QAAA,WACArB,EAAAC,IAAAC,aAAA,KAIA,YAKAH,EAAA,OACAA,EAAA,UACAM,OACAC,KAAA,WAIAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,YACAwB,UAAA,QAEAV,IACAW,QAAA,WACA7B,EAAA8B,QAAAtB,EAAAC,IAAAsB,WAAAvB,EAAAC,IAAAgB,WAIAC,KAGAnB,EAAA,UACAM,OACAC,KAAA,WAGAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,UACAwB,UAAA,QAEAV,IACAW,QAAA,WACA7B,EAAAgC,WAAAxB,EAAAC,IAAAsB,eAIA,YAGAxB,EAAA,UACAM,OACAC,KAAA,WAIAP,EACA,UAEAM,OACAc,SAAA,EACAvB,MAAA,WACAwB,UAAA,QAEAV,IACAW,QAAA,WACA7B,EAAAiC,eAAAzB,EAAAC,IAAAsB,WAAAvB,EAAAC,IAAAQ,aAEAiB,YAAA,WACA1B,EAAAC,IAAAC,aAAA,KAIA,eASAnB,QACA6B,kBAGAe,QAvPA,WAwPArD,KAAAoB,UAAA,aACApB,KAAAqB,QAAA,aACArB,KAAAsD,QAAA,EAAAtD,KAAAoB,UAAApB,KAAAqB,UAEAkC,SACAC,SAAA,SAAAC,GACAzD,KACA0D,QAAAC,MACAC,KAAA,0BACAC,OACAJ,KACArC,UAAApB,KAAAoB,UACAC,QAAArB,KAAAqB,YAIAiC,QAAA,SAAAQ,EAAAC,EAAAC,GAAA,IAAAC,EAAAjE,KAEAkE,EADAlE,KACAmB,SACAgD,EAAA,GACAC,EAAA,GACAC,EAAA,GAEA,GAAAN,EACAI,EAAAJ,EACAK,EAAAJ,MACA,CACA,OAAAE,EAAA,IACA,QAAAJ,EAEA,OADA9D,KAAAsE,SAAAC,MAAA,cACA,EACA,QAAAT,EAEA,OADA9D,KAAAsE,SAAAC,MAAA,cACA,EAGA,GAAAL,EAAA,IACA,IAAAM,EAAA,IAAAC,KAAAP,EAAA,IACAC,EACAK,EAAAE,cACA,KACAxC,SAAAsC,EAAAG,YAAA,GACA,IACAH,EAAAI,UAEA,GAAAV,EAAA,IACA,IAAAW,EAAA,IAAAJ,KAAAP,EAAA,IACAE,EACAS,EAAAH,cACA,KACAxC,SAAA2C,EAAAF,YAAA,GACA,IACAE,EAAAD,WAIA5E,KAAAoB,UAAA+C,EACAnE,KAAAqB,QAAA+C,EACA,KAAAN,EACAO,EAAAS,EAAAC,IAAAC,qBACA,KAAAlB,IACAO,EAAAS,EAAAC,IAAAE,qBA5CAjF,KA+CAkF,MAAAC,IAAAd,GACAe,MAAAjB,EACAkB,MAAAjB,IACAkB,KAAA,SAAAC,GACA,KAAAzB,GACAG,EAAAxD,KAAA8E,EAAA/E,KACAyD,EAAA3B,aAAAiD,EAAAjD,eAEAkD,OAAAC,KAAAX,EAAAY,QAAAH,EAAA,WACA,GAAAA,EAAAI,QAAA,UACA1B,EAAAK,SAAAsB,QAAA,YAOA5C,QAAA,SAAAC,EAAAN,GAAA,IAAAkD,EAAA7F,KAEA,GAAA2C,EACAA,EAAA,EACA,GAAAA,IACAA,EAAA,GAJA3C,KAMAkF,MAAAC,IAAAL,EAAAC,IAAAe,kCACA7C,aACAN,WACA2C,KAAA,SAAAC,GACA,GAAAA,EAAAQ,cACAC,WAAA,WACAH,EAAAvC,QAAA,EAAAuC,EAAAzE,UAAAyE,EAAAxE,UACA,QAKA6B,WAAA,SAAAD,GAAA,IAAAgD,EAAAjG,KACAA,KACAkF,MAAAgB,KAAApB,EAAAC,IAAAoB,kBACAC,IAAAnD,IACAqC,KAAA,SAAAC,GACAU,EAAA3B,SAAAsB,QAAA,QACAI,WAAA,WACAC,EAAA3C,QAAA,EAAA2C,EAAA7E,UAAA6E,EAAA5E,UACA,QAIA8B,eAAA,SAAAF,EAAAoD,GAAA,IAAAC,EAAAtG,KACAA,KACAkF,MAAAC,IAAAL,EAAAC,IAAAwB,uCACAtD,aACAoD,gBACAf,KAAA,SAAAC,GACAe,EAAAhC,SAAAsB,QAAA,QACAI,WAAA,WACAM,EAAAhD,QAAA,EAAAgD,EAAAlF,UAAAkF,EAAAjF,UACA,QAGAmF,SAAA,WACAxG,KAAAmB,SAAA,IAEAsF,MAAA,WACAC,MAAA","file":"static/js/23.e3f8bced6f5e289b7663.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"operation-list\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5dee67ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/operation/commerce_list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dee67ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./commerce_list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commerce_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commerce_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dee67ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./commerce_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation/commerce_list.vue\n// module id = null\n// module chunks = ","<!--历史每日数据-->\n<template>\n  <div class=\"operation-list\">\n<!--    <div class=\"content-bar\">\n      <Form inline>\n        <FormItem label=\"时间:\" :label-width=\"80\">\n          <DatePicker v-model=\"dateTime\" format=\"yyyy/MM/dd\" type=\"daterange\" placement=\"bottom-start\" placeholder=\"选择时间段...\" style=\"width: 180px\"></DatePicker>\n        </FormItem>\n        <FormItem :label-width=\"0\">\n          <Button type=\"primary\" icon=\"ios-search\" @click=\"getList(1)\">查询</Button>\n          &nbsp;\n          <Button type=\"error\" icon=\"android-close\" @click=\"cleanBox('')\">清空</Button>\n          &nbsp;\n          <Button type=\"warning\" icon=\"ios-printer\" @click=\"getList(2)\">导出</Button>\n        </FormItem>\n      </Form>\n    </div>-->\n    <Table border :columns=\"columns\" :data=\"list\"></Table>\n  </div>\n</template>\n<style>\n  @import \"../../assets/style/common.css\";\n  .operation-list table button,   .operation-list table .ivu-select{\n    margin-bottom: 5px;\n  }\n  .operation-list table button:first-child{\n    margin-top: 5px;\n  }\n</style>\n<script>\n  export default {\n    data() {\n      return {\n        dateTime: '',\n        startTime: '',\n        endTime: '',\n        columns: [\n          {\n            title: \"手机号码\",\n            align: \"center\",\n            key: \"mobile\"\n          },\n          {\n            title: \"姓名\",\n            align: \"center\",\n            key : \"name\"\n          },\n          {\n            title: \"区域\",\n            key: \"location\",\n            align: \"center\"\n          },\n          {\n            title: \"身份证号码\",\n            key: \"identity_card\",\n            align: \"center\"\n          },\n          {\n            title: \"开户银行\",\n            key: \"bank_name\",\n            align: \"center\"\n          },\n          {\n            title: \"银行卡号\",\n            key: \"bank_number\",\n            align: \"center\"\n          },\n          {\n            title: \"上级\",\n            align: \"center\",\n            render: (h, params) =>  {\n              if(params.row.showSuperior == 1){\n                let _str = '';\n                if(params.row.superior == '超级管理员' ){\n                  _str = '公司';\n                }else{\n                  _str = params.row.superior;\n                }\n                return h(\"div\", _str);\n              }else{\n                return h(\"Select\",{\n                    props: {\n                      size: \"small\",\n                      value : parseInt(params.row.superiorId)\n                    },\n                    on: {\n                      'on-change':(value) => {\n                        params.row.superiorId = value;\n                      }\n                    },\n                  },\n                  this.superiorList.map(function(type){\n                    return h('Option', {\n                      props: {value: type.accountId}\n                    }, type.nickname);\n                  })\n                );\n              }\n            }\n          },\n          {\n            title: \"状态\",\n            align: \"center\",\n            render(h, params) {\n              let _str = '';\n              if(params.row.status == '0' ){\n                _str = '正常';\n              }else{\n                _str = '禁用';\n              }\n              return h(\"div\", _str);\n            }\n          },\n          {\n            title: \"授权日期\",\n            key: \"createt_time\",\n            align: \"center\"\n          },\n          {\n            title: \"操作\",\n            align: \"center\",\n            render: (h, params) => {\n              let reamrk = params.row.status == 1 ? \"启用账号\" : \"禁用账号\";\n\n              if(params.row.showSuperior == 1){\n                return h(\"div\", [\n                  h(\"Button\",{\n                      props: {\n                        size: \"small\"\n                      }\n                    },\n                    [\n                      h(\n                        \"Poptip\",\n                        {\n                          props: {\n                            confirm: true,\n                            title: \"确定要更改状态么?\",\n                            placement : 'left'\n                          },\n                          on: {\n                            \"on-ok\": () => {\n                              this.disable(params.row.account_id, params.row.status);\n                            }\n                          }\n                        },\n                        reamrk\n                      )\n                    ]),\n                  h(\"Button\",{\n                    props: {\n                      size: \"small\"\n                    }\n                  }, [\n                    h(\n                      \"Poptip\",\n                      {\n                        props: {\n                          confirm: true,\n                          title: \"确定要重置么?\",\n                          placement : 'left'\n                        },\n                        on: {\n                          \"on-ok\": () => {\n                            this.restartPwd(params.row.account_id);\n                          }\n                        }\n                      },\n                      \"重置账户密码\"\n                    )\n                  ]),\n                  h(\"Button\",{\n                    props: {\n                      size: \"small\"\n                    }\n                  }, [\n                    h(\n                      \"Poptip\",\n                      {\n                        props: {\n                          confirm: true,\n                          title: \"确定要修改上级?\",\n                          placement : 'left'\n                        },\n                        on: {\n                          \"on-ok\": () => {\n                            params.row.showSuperior = 0;\n                          }\n                        }\n                      },\n                      \"修改上级\"\n                    )\n                  ]),\n                ]);\n              }else{\n                return h(\"div\", [\n                  h(\"Button\",{\n                      props: {\n                        size: \"small\"\n                      }\n                    },\n                    [\n                      h(\n                        \"Poptip\",\n                        {\n                          props: {\n                            confirm: true,\n                            title: \"确定要更改状态么?\",\n                            placement : 'left'\n                          },\n                          on: {\n                            \"on-ok\": () => {\n                              this.disable(params.row.account_id, params.row.status);\n                            }\n                          }\n                        },\n                        reamrk\n                      )\n                    ]),\n                  h(\"Button\",{\n                    props: {\n                      size: \"small\"\n                    }\n                  }, [\n                    h(\n                      \"Poptip\",\n                      {\n                        props: {\n                          confirm: true,\n                          title: \"确定要重置么?\",\n                          placement : 'left'\n                        },\n                        on: {\n                          \"on-ok\": () => {\n                            this.restartPwd(params.row.account_id);\n                          }\n                        }\n                      },\n                      \"重置账户密码\"\n                    )\n                  ]),\n                  h(\"Button\",{\n                      props: {\n                        size: \"small\"\n                      }\n                    },\n                    [\n                      h(\n                        \"Poptip\",\n                        {\n                          props: {\n                            confirm: true,\n                            title: \"确定要更改上级?\",\n                            placement : 'left'\n                          },\n                          on: {\n                            \"on-ok\": () => {\n                              this.updateSuperior(params.row.account_id, params.row.superiorId)\n                            },\n                            \"on-cancel\" :() => {\n                              params.row.showSuperior = 1\n                            }\n                          }\n                        },\n                        \"确定修改\"\n                      )\n                    ])\n                ]);\n              }\n\n            }\n          }\n        ],\n        list: [],\n        superiorList: []\n      };\n    },\n    created() {\n      this.startTime = '2018-01-01';\n      this.endTime = '2099-01-01';\n      this.getList(1, this.startTime, this.endTime);\n    },\n    methods: {\n      jumpLink:function(id){\n        let self = this;\n        self.$router.push({\n          path: \"/survey/commerce_search\",\n          query: {\n            id: id,\n            startTime: this.startTime,\n            endTime:this.endTime\n          }\n        });\n      },\n      getList:function (_o, st, se) {\n        var self = this,\n          dateArr = self.dateTime,\n          s = '',\n          e = '',\n          str = '';\n\n        if(st){\n          s = st;\n          e = se;\n        }else{\n          if(dateArr[0] == ''){\n            if(_o == '1'){\n              this.$Message.error('查询时间不能为空！');\n              return false;\n            }else if(_o == '2'){\n              this.$Message.error('导出时间不能为空！');\n              return false;\n            }\n          }\n          if (dateArr[0]) {\n            let tempb = new Date(dateArr[0]);\n            s =\n              tempb.getFullYear() +\n              \"-\" +\n              (parseInt(tempb.getMonth()) + 1) +\n              \"-\" +\n              tempb.getDate();\n          }\n          if (dateArr[1]) {\n            let tempe = new Date(dateArr[1]);\n            e =\n              tempe.getFullYear() +\n              \"-\" +\n              (parseInt(tempe.getMonth()) + 1) +\n              \"-\" +\n              tempe.getDate();\n          }\n        }\n\n        this.startTime = s;\n        this.endTime = e;\n        if(_o == '1'){\n          str = global.url.survey_commerce_list;\n        }else if(_o == '2'){\n          str = global.url.educe_commerce_list;\n        }\n\n        self.$http.get(str, {\n          btime: s,\n          etime: e\n        }).then(result => {\n          if(_o == '1'){\n            this.list = result.data;\n            this.superiorList = result.superiorList;\n          }else{\n            window.open(global.baseUrl + result, \"_blank\");\n            if(result.indexOf(\"execl\") != -1 ){\n              this.$Message.success('导出成功');\n            }\n          }\n        });\n\n      },\n      //禁用 启用\n      disable:function (account_id, status) {\n        var self = this;\n        if(status == 1){\n          status = 0;\n        }else if( status == 0){\n          status = 1;\n        }\n        self.$http.get(global.url.operation_commerce_update_status, {\n          account_id: account_id,\n          status: status\n        }).then(result => {\n          if(result.affectedRows == 1){\n            setTimeout(() => {\n              this.getList(1, this.startTime, this.endTime);\n            }, 500);\n          }\n        });\n      },\n      //重置密码\n      restartPwd:function (account_id) {\n        var self = this;\n        self.$http.post(global.url.commerce_restart, {\n          aid: account_id\n        }).then(result => {\n          this.$Message.success('重置成功');\n          setTimeout(() => {\n            this.getList(1, this.startTime, this.endTime);\n          }, 500);\n        });\n      },\n      //修改代理等级\n      updateSuperior:function (account_id, superior_id) {\n        var self = this;\n        self.$http.get(global.url.operation_update_commerce_superior_id, {\n          account_id: account_id,\n          superior_id: superior_id\n        }).then(result => {\n          this.$Message.success('修改成功');\n          setTimeout(() => {\n            this.getList(1, this.startTime, this.endTime);\n          }, 500);\n        });\n      },\n      cleanBox:function () {\n        this.dateTime = '';\n      },\n      educe:function () {\n        alert(1);\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation/commerce_list.vue"],"sourceRoot":""}